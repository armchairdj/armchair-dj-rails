<% return if flash.empty? %>

<%= content_tag(:aside, class: "flash-messages", data: {
  behavior: "Closeable"
}) do %>
  <% flash.each do |type, message| %>
    <%= content_tag(:div, class: "flash flash-#{type}", "data-controller": "dismissable") do %>
      <%= content_tag(:div, class: "constrain-wide flash-inner") do %>
        <%= link_to "&#215;".html_safe, "javascript:window.location.reload();",
          class:         "closeable",
          title:         "dismiss this message",
          "data-action": "dismissable#dismiss"
        %>

        <%= content_tag(:p, message) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
