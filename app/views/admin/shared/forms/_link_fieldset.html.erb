<%
  records     = f.object.links
  error       = f.error(:links)
  classes     = join_attr("legendary", "fields-for", ("fieldset-with-errors" if error))
  legend_hint = error || t("simple_form.hints.defaults.links", model_name: controller_name.singularize)
%>

<%= content_tag(:fieldset, class: classes, "data-controller": "expandable-fieldset") do %>
  <%= content_tag(:div, class: "boxed") do %>
    <%= content_tag(:legend, "Links") %>

    <%= content_tag(:div, legend_hint, class: "legend-hint") %>

    <%= render partial: "admin/shared/forms/link_field", collection: records, as: :link, locals: {
      f: f
    } %>
  <% end %>
<% end %>
