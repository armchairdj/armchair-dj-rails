<%= f.simple_fields_for :contributions, contribution do |ff| %>
  <%= content_tag(:fieldset, class: "accepts-nested", "data-target": "expandable-fieldset.field") do %>
    <%= content_tag(:div, class: "stacked") do %>
      <%= ff.input :creator_id,
        as:            :select,
        collection:    creators,
        required:      false,
        include_blank: :translate,
        input_html:    {
          "data-controller":              "selectable-create",
          "data-selectable-create-scope": "creator",
          "data-selectable-create-url":   admin_creators_path,
          "data-selectable-create-param": "creator[name]"
        }
      %>

      <%= ff.input :role_id, as: :select,
        collection:         roles,
        required:           false,
        include_blank:      :translate,
        input_html:         {
          "data-controller":                    "selectable-create",
          "data-selectable-create-scope":       "role",
          "data-selectable-create-url":         admin_roles_path,
          "data-selectable-create-param":       "role[name]",
          "data-selectable-create-form-params": "role[medium_id]=work[medium_id]"
        }
      %>
    <% end %>

    <%= ff.input(:_destroy, as: :boolean) unless ff.object.new_record? %>
  <% end %>
<% end %>
