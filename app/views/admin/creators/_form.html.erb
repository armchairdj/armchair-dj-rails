<%= simple_form_for([:admin, @creator], html: { class: "admin"}) do |f| %>
  <%= f.error_notification %>

  <%= content_tag(:div, class: "form-inputs") do %>
    <%= content_tag(:section, class: "adj-module") do %>
      <%= content_tag(:fieldset) do %>
        <%= f.input :name %>
      <% end %>
    <% end %>

    <%= content_tag(:section, class: "adj-module") do %>
      <%= content_tag(:fieldset, "data-controller": "togglable-fieldset") do %>
        <%= content_tag(:legend, "Primary or Pseudonym") %>

        <%= render partial: "shared/forms/custom_radio_group", locals: {
          name:       :primary,
          f:          f,
          collection: Creator.primary_options,
          invert:     true
        } %>

        <%= render partial: "shared/forms/has_many_fieldset_with_toggle", locals: {
          f:           f,
          association: :pseudonym_identities,
          bool:        true,
          expandable:  true,
          headline:    "Pseudonyms",
        } %>

        <%= render partial: "shared/forms/has_many_fieldset_with_toggle", locals: {
          f:           f,
          association: :real_name_identities,
          bool:        false,
          expandable:  false,
          headline:    "Real Name",
        } %>
      <% end %>
    <% end %>

    <%= content_tag(:section, class: "adj-module") do %>
      <%= content_tag(:fieldset, "data-controller": "togglable-fieldset") do %>
        <%= content_tag(:legend, "Individual or Group") %>

        <%= render partial: "shared/forms/custom_radio_group", locals: {
          f:          f,
          name:       :individual,
          collection: Creator.individual_options,
          invert:     true
        } %>

        <%= render partial: "shared/forms/has_many_fieldset_with_toggle", locals: {
          f:           f,
          association: :group_memberships,
          bool:        true,
          expandable:  true,
          headline:    "Groups",
        } %>

        <%= render partial: "shared/forms/has_many_fieldset_with_toggle", locals: {
          f:           f,
          association: :member_memberships,
          bool:        false,
          expandable:  true,
          headline:    "Members",
        } %>
      <% end %>
    <% end %>
  <% end %>

  <%= content_tag(:div, class: "button-group") do %>
    <%= admin_submit_button(f) %>
  <% end %>
<% end %>
