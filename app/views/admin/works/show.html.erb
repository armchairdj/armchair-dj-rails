<%
  @title = ["View #{@work.true_human_model_name}", @work.display_makers, @work.title]
%>

<%= admin_header(@model_class, :show,
  h1:       @title.first,
  instance: @work,
) %>

<%= render "admin/shared/show",
  record: @work,
  rows: [
    { name: "ID",       method: :id },
    { name: "Medium",   method: :true_human_model_name },
    { name: "Title",    method: :title },
    { name: "Subtitle", method: :subtitle },
    { name: "Makers",   method: :display_makers },
    { name: "Created",  date: true, method: :created_at },
    { name: "Updated",  date: true, method: :updated_at },
    { name: "Alpha",    method: :alpha },
  ]
%>

<% if (credits = @work.credits.for_admin).any? %>
  <%= admin_section(headline: "Makers", subhead: "Drag to Reorder") do %>
    <%= content_tag(:ol, js_sortable_credits_attrs(@work)) do %>
      <% credits.each do |credit| %>
        <%= content_tag(:li, link_to_creator(credit.creator), "data-id": credit.id) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<% if (milestones = @work.display_milestones).any? %>
  <%= admin_section(headline: "Milestones") do %>
    <%= content_tag(:dl, class: "horizontal right") do %>
      <% milestones.each do |milestone| %>
        <%= content_tag(:dt, milestone.human_activity) %>
        <%= content_tag(:dd, milestone.year) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<% if (facets = @work.display_facets).any? %>
  <%= admin_section(headline: "Aspects") do %>
    <%= content_tag(:dl, class: "horizontal right") do %>
      <% facets.each do |facet_name, aspects| %>
        <%= content_tag(:dt, facet_name) %>
        <% aspects.each do |aspect| %>
          <%= content_tag(:dd) do %>
            <%= link_to_aspect(aspect) %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<% if (contributions = @work.contributions.for_admin.alpha).any? %>
  <%= admin_section(headline: "Contributors") do %>
    <%= content_tag(:dl, class: "horizontal right") do %>
      <% contributions.each do |contribution| %>
        <%= content_tag(:dt, contribution.name                    ) %>
        <%= content_tag(:dd, link_to_creator(contribution.creator)) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<%= render partial: "admin/posts/list",     as: "posts",     object: @work.posts.for_admin.reverse_cron %>
<%= render partial: "admin/playlists/list", as: "playlists", object: @work.playlists.for_admin.alpha %>
