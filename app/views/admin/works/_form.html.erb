<%
  form_attrs = { class: "admin" }

  if work.new_record?
    form_attrs.merge!({ "data-controller": "auto-submittable" })
  end
%>

<%= simple_form_for([:admin, work], html: form_attrs) do |f| %>
  <%= f.error_notification %>

  <%= content_tag(:div, class: "form-inputs") do %>
    <%= render partial: "admin/works/form_fields", locals: {
      f:          f,
      categories: categories,
      creators:   creators,
      types:      types,
      roles:      roles,
      works:      works,
    } %>
  <% end %>

  <%= content_tag(:div, class: "button-group") do %>
    <%= admin_submit_button(f) %>

    <%= f.button(:button, "Update Medium", type: :submit,
      name: "step", value: "select_work_type", class: "secondary",
      "data-target": "auto-submittable.button"
    ) if f.object.new_record? %>
  <% end %>
<% end %>
