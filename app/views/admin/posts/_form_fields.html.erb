<%= content_tag(:fieldset) do %>
  <%= content_tag(:div, class: "boxed") do %>
    <%= f.input :body, input_html: { class: "x-large" } %>

    <%= f.input :tag_ids,
      as:         :select,
      collection: tags,
      input_html: {
        multiple:                       true,
        "data-controller":              "selectable-create",
        "data-selectable-create-scope": "tag",
        "data-selectable-create-url":   admin_tags_path,
        "data-selectable-create-param": "tag[name]",
      }
    %>
  <% end %>
<% end %>

<%= render partial: "admin/shared/forms/link_fieldset", locals: {
  f: f
} %>

<%= content_tag(:fieldset, class: "legendary") do %>
  <%= content_tag(:div, class: "boxed") do %>
    <%= content_tag(:legend, "Publication Details") %>

    <%= render partial: "admin/shared/forms/displayable_fields", locals: { f: f } %>

    <% if f.object.published? %>
      <%= f.input :published_at, as: :date, html5: true, readonly: true %>
    <% elsif f.object.persisted? %>
      <%= f.input :publish_on,   as: :date, html5: true, hint: true %>
    <% end %>
  <% end %>
<% end %>
