<% html_opts = js_autosave_attrs(@mixtape).merge(class: "admin") %>

<%= simple_form_for([:admin, @mixtape], html: html_opts) do |f| %>
  <%= f.error_notification %>

  <%= content_tag(:div, class: "form-inputs") do %>
    <%= content_tag(:section, class: "adj-module") do %>
      <%= content_tag(:fieldset) do %>
        <%= f.input :playlist_id, as: :select,
          collection:    @playlists,
          required:      true,
          label_method:  :title,
          value_method:  :id,
          include_blank: :translate,
          input_html:    { "data-controller": "selectable" }
        %>

        <%= render partial: "admin/posts/body_field",    locals: { f: f } %>
        <%= render partial: "admin/posts/summary_field", locals: { f: f } %>
        <%= render partial: "admin/posts/tags_field",    locals: { f: f } %>
      <% end %>
    <% end %>

    <%= render partial: "admin/posts/publication_details",      locals: { f: f } %>
    <%= render partial: "admin/links/has_many_links_fieldset", locals: { f: f } %>
  <% end %>

  <%= render partial: "admin/posts/publication_buttons", locals: { f: f } %>
<% end %>
