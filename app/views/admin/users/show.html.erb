<%
  @title = ["View User", @user.display_name ]
%>

<%= admin_header(@model_class, :show,
  h1:       @title.first,
  instance: @user,
) %>

<%= admin_section("Attributes", class: "tabled") do %>
  <%= content_tag(:table, class: "admin admin-view") do %>
    <%= content_tag(:tbody) do %>
      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "ID") %>
        <%= content_tag(:td, @user.id) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Role") %>
        <%= content_tag(:td, @user.human_role) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Name") %>
        <%= content_tag(:td, @user.display_name) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Username") %>
        <%= content_tag(:td, @user.username) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Email") %>
        <%= content_tag(:td, @user.email) %>
      <% end %>

      <% if @user.can_write? %>
        <%= content_tag(:tr) do %>
          <%= content_tag(:th, "Bio") %>
          <%= content_tag(:td, paragraphs(@user.bio)) %>
        <% end %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Links") %>
        <%= content_tag(:td) do %>
          <%= @user.links.decorate.list %>
        <% end %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Created") %>
        <%= content_tag(:td, admin_date(@user.created_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Updated") %>
        <%= content_tag(:td, admin_date(@user.updated_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Alpha") %>
        <%= content_tag(:td, @user.alpha) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<%= admin_section("Account Status", class: "tabled") do %>
  <%= content_tag(:table, class: "admin admin-view") do %>
    <%= content_tag(:tbody) do %>
      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Confirmed") %>
        <%= content_tag(:td, admin_date(@user.confirmed_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Confirmation Sent") %>
        <%= content_tag(:td, admin_date(@user.confirmation_sent_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Password Reset Sent") %>
        <%= content_tag(:td, admin_date(@user.reset_password_sent_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Locked") %>
        <%= content_tag(:td, admin_date(@user.locked_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Unconfirmed Email") %>
        <%= content_tag(:td, @user.unconfirmed_email) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<%= admin_section("Logins", class: "tabled") do %>
  <%= content_tag(:table, class: "admin admin-view") do %>
    <%= content_tag(:tbody) do %>
      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Logins") %>
        <%= content_tag(:td, @user.sign_in_count) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Failed Attempts") %>
        <%= content_tag(:td, @user.failed_attempts) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Current Login") %>
        <%= content_tag(:td, admin_date(@user.current_sign_in_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Current Login IP") %>
        <%= content_tag(:td, @user.current_sign_in_ip) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Last Login") %>
        <%= content_tag(:td, admin_date(@user.last_sign_in_at)) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Last Login IP") %>
        <%= content_tag(:td, @user.last_sign_in_ip) %>
      <% end %>

      <%= content_tag(:tr) do %>
        <%= content_tag(:th, "Remember Me") %>
        <%= content_tag(:td, admin_date(@user.remember_created_at)) %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<%= render partial: "admin/posts/list",     as: "posts",     object: @user.posts.for_admin.reverse_cron %>
<%= render partial: "admin/playlists/list", as: "playlists", object: @user.playlists.for_admin.alpha %>
