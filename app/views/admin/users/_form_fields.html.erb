<% show_bio      = false if local_assigns[:show_bio     ].nil? %>
<% show_password = false if local_assigns[:show_password].nil? %>
<% show_role     = false if local_assigns[:show_role    ].nil? %>

<%= content_tag(:fieldset, class: "name legendary") do %>
  <%= content_tag(:div, class: "boxed") do %>
    <%= content_tag(:legend, "Name") %>

    <%= f.input(:first_name) %>
    <%= f.input(:middle_name, required: false) %>
    <%= f.input(:last_name) %>
  <% end %>
<% end %>

<%= content_tag(:fieldset, class: "legendary") do %>
  <%= content_tag(:div, class: "boxed") do %>
    <%= content_tag(:legend, "Account") %>

    <%= f.input(:email, required: true, placeholder: true) %>

    <%= f.input(:password, required: true, hint: true) if show_password %>

    <%= f.input(:username) %>

    <%= f.input(:role,
      as:            :select,
      collection:    roles,
      include_blank: :translate
    ) if show_role && f.object != current_user %>

    <%= f.input(:bio, hint: true) if show_bio %>
  <% end %>
<% end %>
